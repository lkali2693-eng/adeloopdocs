GitHub OAuth Setup with Clerk - Production Ready
================================================

This is the MODERN, PROFESSIONAL approach - no manual tokens needed!

STEP 1: Get Clerk's Redirect URL
---------------------------------
1. Go to: https://dashboard.clerk.com
2. Select your application
3. Navigate to: "User & Authentication" â†’ "Social Connections"
4. Find "GitHub" and click "Configure"
5. You'll see a "Redirect URI" - COPY THIS!
   Example: https://your-app.clerk.accounts.dev/v1/oauth_callback
   
   âš ï¸ IMPORTANT: This ONE URL works for BOTH localhost AND production!

STEP 2: Create GitHub OAuth App
--------------------------------
You can use ANY GitHub account (doesn't need to match your Gmail):

1. Go to: https://github.com/settings/developers
2. Click "OAuth Apps" â†’ "New OAuth App"
3. Fill in:
   
   ğŸ“ Application name: "Your App Name" (e.g., "AdeloopLab")
   
   ğŸ“ Homepage URL: 
      For development: http://localhost:3000
      For production: https://your-domain.com
      (You can change this later, doesn't matter much)
   
   ğŸ“ Authorization callback URL: 
      âš ï¸ PASTE THE REDIRECT URI FROM CLERK (Step 1)
      Example: https://your-app.clerk.accounts.dev/v1/oauth_callback
      
      âœ… This ONE callback URL handles EVERYTHING:
         - localhost:3000
         - your-domain.com
         - any other domain you add to Clerk

4. Click "Register application"
5. You'll see:
   - Client ID: Copy this (looks like: Iv1.a1b2c3d4e5f6g7h8)
   - Client secrets: Click "Generate a new client secret"
   - Copy the secret (you'll only see it once!)

STEP 3: Configure Clerk with GitHub Credentials
------------------------------------------------
1. Back in Clerk Dashboard â†’ GitHub configuration
2. Paste:
   - Client ID: [from GitHub OAuth App]
   - Client Secret: [from GitHub OAuth App]
3. Under "Scopes", add these:
   âœ… read:user (default)
   âœ… user:email (default)
   âœ… repo (CRITICAL - type this manually!)
4. IMPORTANT Settings:
   âœ… Enable for sign-up and sign-in: OFF (keep Google only)
   âœ… Enable for account linking: ON (allows connecting after sign-in)
5. Click "Save"

STEP 4: Test Locally
--------------------
1. Run your app: npm run dev
2. Sign in with Google (your existing flow)
3. Go to GenIDE â†’ Click GitHub icon
4. Click "Connect with GitHub"
5. Authorize the app
6. Done!

STEP 5: Production (When You Deploy)
-------------------------------------
âœ… NO CHANGES NEEDED!
The same GitHub OAuth App works for production automatically
because Clerk's callback URL handles all domains.

Just make sure your production domain is added in Clerk Dashboard.

STEP 4: Verify Scopes (CRITICAL!)
----------------------------------
Make sure you have the "repo" scope enabled in Clerk:

1. Clerk Dashboard â†’ GitHub settings
2. Look for "Scopes" section
3. You should see:
   âœ… read:user
   âœ… user:email
   âœ… repo (ADD THIS if not present!)

Without "repo" scope, users can't create or push to repositories!

STEP 5: Test the Flow
----------------------
1. User signs in with Google (your existing flow)
2. Open GenIDE â†’ Create/load a project
3. Click GitHub icon in sidebar
4. Click "Connect with GitHub" button
5. Popup opens â†’ GitHub OAuth page
6. Authorize the app on GitHub
7. Popup closes automatically
8. See all your GitHub repositories!
9. Choose: Create new repo OR Push to existing repo
10. Push your code!

TROUBLESHOOTING:
----------------
âŒ "GitHub not connected" error
   â†’ Check "Enable for account linking" is ON in Clerk

âŒ "No repositories found"
   â†’ Check "repo" scope is enabled in Clerk

âŒ "Failed to push"
   â†’ Verify user authorized the "repo" scope on GitHub

âŒ Popup blocked
   â†’ Allow popups for your domain

WHY THIS IS BETTER:
-------------------
âœ… One-click authentication (no manual token copying)
âœ… Automatic token refresh (never expires)
âœ… Secure (tokens managed by Clerk)
âœ… Revocable (users can disconnect anytime)
âœ… Professional UX (like VS Code, Vercel, etc.)
âœ… No .env secrets needed for users
âœ… Works for all users automatically

PRODUCTION READY! ğŸš€


========================================
QUICK ANSWERS TO YOUR QUESTIONS:
========================================

Q: Can I use a GitHub account different from my Gmail?
A: YES! The GitHub account you use to create the OAuth App can be ANY account.
   It doesn't need to match your Clerk/Gmail account.
   Users will connect their OWN GitHub accounts when they use your app.

Q: What do I put in "Homepage URL"?
A: For now: http://localhost:3000
   Later you can change it to: https://your-production-domain.com
   This is just for display, doesn't affect functionality.

Q: What do I put in "Authorization callback URL"?
A: COPY the "Redirect URI" from Clerk Dashboard (Step 1)
   Example: https://your-app.clerk.accounts.dev/v1/oauth_callback
   
   âš ï¸ This is THE MOST IMPORTANT field!
   âš ï¸ Must be EXACTLY as shown in Clerk (including https://)
   âš ï¸ This ONE URL works for localhost AND production!

Q: Do I need multiple OAuth Apps for localhost and production?
A: NO! One OAuth App works for everything because Clerk's callback
   URL is the same for all environments.

========================================
VISUAL GUIDE:
========================================

GitHub OAuth App Settings:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application name                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ AdeloopLab                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ Homepage URL                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ http://localhost:3000                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ Authorization callback URL âš ï¸ IMPORTANT!    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ https://your-app.clerk.accounts.dev/    â”‚ â”‚
â”‚ â”‚ v1/oauth_callback                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ [Register application]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After registration, you'll get:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client ID                                   â”‚
â”‚ Iv1.a1b2c3d4e5f6g7h8                       â”‚
â”‚                                             â”‚
â”‚ Client secrets                              â”‚
â”‚ [Generate a new client secret]              â”‚
â”‚                                             â”‚
â”‚ After generating:                           â”‚
â”‚ ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx    â”‚
â”‚ âš ï¸ Copy this now! You won't see it again   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Then paste both into Clerk Dashboard!

========================================
READY TO GO! ğŸš€
========================================
